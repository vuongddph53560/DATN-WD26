{"version":3,"file":"file-C0BFy6W1.mjs","names":["file: File","mimeType: SupportedMimeType"],"sources":["../../src/file.ts"],"sourcesContent":["/**\n * Read an expected JSON type File.\n *\n * Probably paired with:\n *  <input type='file' accept='application/JSON' ... />\n */\nexport function readJSONFile(file: File): Promise<unknown> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.addEventListener('load', function () {\n      const result = JSON.parse(reader.result as string);\n      resolve(result);\n    });\n\n    reader.addEventListener('error', reject);\n    reader.readAsText(file);\n  });\n}\n\nconst MimeTypeToExtensionMap = Object.freeze({\n  'image/png': 'png',\n  'image/jpeg': 'jpg',\n  'image/gif': 'gif',\n  'image/webp': 'webp',\n  'image/x-icon': 'ico',\n  'image/vnd.microsoft.icon': 'ico',\n} as const);\n\nexport type SupportedMimeType = keyof typeof MimeTypeToExtensionMap;\n\nexport const extension = (mimeType: SupportedMimeType): string => {\n  return MimeTypeToExtensionMap[mimeType];\n};\n"],"mappings":";;;;;;;AAMA,SAAgB,aAAaA,MAA8B;AACzD,QAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;EACtC,MAAM,SAAS,IAAI;AACnB,SAAO,iBAAiB,QAAQ,WAAY;GAC1C,MAAM,SAAS,KAAK,MAAM,OAAO,OAAiB;AAClD,WAAQ,OAAO;EAChB,EAAC;AAEF,SAAO,iBAAiB,SAAS,OAAO;AACxC,SAAO,WAAW,KAAK;CACxB;AACF;AAED,MAAM,yBAAyB,OAAO,OAAO;CAC3C,aAAa;CACb,cAAc;CACd,aAAa;CACb,cAAc;CACd,gBAAgB;CAChB,4BAA4B;AAC7B,EAAU;AAIX,MAAa,YAAY,CAACC,aAAwC;AAChE,QAAO,uBAAuB;AAC/B"}